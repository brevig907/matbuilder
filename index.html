<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Fuji Test v 0.0.1</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-md-3">
            <h4>&nbsp;development | prototype</h4>
        </div>
        <div class="col-md-9">
            <p><br/></p>
            <button type="button" onclick="debugWindow.clear();">clear debug window</button>
            <div id="debug-window" style="width:100%; height:200px; overflow: scroll; color:#808080; font-size: 10px;">
            </div>
        </div>
    </div>


</div>

<div class="container">
    <div class="row">
        <div class="col-md-3" id="toolmenu">

            <div class="row">
                <div class="btn-toolbar" role="toolbar">
                    <div class="btn-group btn-group-md" role="group">
                        <button class="glyphicon glyphicon-wrench btn btn-default active-btn" data-func="settings"></button>
                        <button class="glyphicon glyphicon-pencil btn btn-default disabled"></button>
                        <button class="glyphicon glyphicon-remove btn btn-default disabled"></button>
                        <button class="glyphicon glyphicon-remove btn btn-default dud"></button>
                     </div>
                </div>
            </div>
            <div class="row">
                <div class="btn-toolbar" role="toolbar">
                    <div class="btn-group btn-group-md" role="group">
                        <button class="glyphicon glyphicon-remove btn btn-default dud"></button>
                        <button class="glyphicon glyphicon-remove btn btn-default dud"></button>
                        <button class="glyphicon glyphicon-remove btn btn-default dud"></button>
                        <button class="glyphicon glyphicon-remove btn btn-default dud"></button>
                     </div>
                </div>
            </div>
            <div class="row">
                <div class="btn-toolbar" role="toolbar">
                    <div class="btn-group btn-group-md" role="group">
                        <button class="glyphicon glyphicon-remove btn btn-default dud"></button>
                        <button class="glyphicon glyphicon-remove btn btn-default dud"></button>
                        <button class="glyphicon glyphicon-remove btn btn-default dud"></button>
                        <button class="glyphicon glyphicon-remove btn btn-default dud"></button>
                     </div>
                </div>
            </div>
<p><br/></p>
            <div class="row">
                <div class="btn-toolbar" role="toolbar">
                    <div class="btn-group btn-group-md" role="group">
                        <button class="btn  btn-default">Save</button>
                    </div>
                </div>
            </div>




        </div>
        <div class="col-md-9">
            <canvas width="800" height="800" id="fujiCanvas" ></canvas>
        </div>
    </div>
</div>






<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>

<script>
    gridId = "fujiCanvas";


    //create grid
    grid = {

        id: '',
        context: '',

        setId: function(id){
            grid.id = id;

        },
        create: function(){
            if (grid.id == '') {
                alert('id not set');
                return false;
            }

            var c_canvas = document.getElementById(grid.id);
            grid.context = c_canvas.getContext("2d");

            for (var x = 0.5; x < 800; x += 50) {
                grid.context.moveTo(x, 0);
                grid.context.lineTo(x, 800);

            }
            for (var y = 0.5; y < 800; y += 50) {
                grid.context.moveTo(0, y);
                grid.context.lineTo(800, y);
            }

            grid.context.strokeStyle = "#eee";
            grid.context.stroke();

            debugWindow.append('created grid 50x50 = 1 sq metre');
        },
        reset: function(){
            grid.context = [];
        }

    };


    toolmenu = {

        menu: {},

        init: function(){
            toolmenu.menu = $('#toolmenu');
        },

        bindActions: function(){
            $(toolmenu.menu)
                    .find('button.active-btn')
                    .each(function(){
                        $(this).bind('click', function(){
                            var func = $(this).attr('data-func');
                            debugWindow.append('Toolmenu button clicked. Function: '+func);
                        });
            });
        }


    };


    debugWindow = {

        debugDiv: document.getElementById("debug-window"),

        clear: function(){
            $(debugWindow.debugDiv).html('');
        },

        append: function(str){
            $(debugWindow.debugDiv).append($('<p>').text(str));
            debugWindow.debugDiv.scrollTop = debugWindow.debugDiv.scrollHeight;
        }

    };



    //testing
    $(document).ready(function(){

        //grid
        grid.setId(gridId);
        grid.create();



        //kill action
        $('.dud').addClass('disabled');

        toolmenu.init();

        toolmenu.bindActions();



    });


</script>
</body>
</html>